(this.webpackJsonptwitter=this.webpackJsonptwitter||[]).push([[0],{53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},64:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a.n(s),i=a(16),n=a.n(i),r=(a(53),a(48)),o=a(12),l=(a(54),a(91)),j=a(92),d=a(93),u=a(30),h=a(7),m=Object(s.createContext)({}),b=a(95),v=a(90),x=(a(55),a(1));var O=function(){var e=Object(s.useState)(0),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(h.g)(),n=function(e){c(e),0===e?i.push("/explore"):1===e&&i.push("/favorites")};return Object(x.jsxs)(b.a,{className:"flex-column twitter-nav-items",children:[Object(x.jsx)(b.a.Item,{children:Object(x.jsx)("i",{className:"bi bi-twitter twitter-icon"})}),Object(x.jsx)(b.a.Item,{children:Object(x.jsxs)(v.a,{onClick:function(){return n(0)},variant:"outline-primary",className:"nav-button ".concat(0===a?"active":""),children:[Object(x.jsx)("i",{className:"bi bi-search"}),Object(x.jsx)("span",{children:"Explore"})]})}),Object(x.jsx)(b.a.Item,{children:Object(x.jsxs)(v.a,{onClick:function(){return n(1)},variant:"outline-primary",className:"nav-button ".concat(1===a?"active":""),children:[Object(x.jsx)("i",{className:"bi bi-star-fill"}),Object(x.jsx)("span",{children:"Favorites"})]})})]})},f=a(96),p=a(97),g=(a(64),a(44)),w=a.n(g),N=function(e,t){var a=e.filter((function(e){return e.id===t}))[0];return{id:t,name:a.name,userName:a.username,profileImageUrl:a.profile_image_url}},A=function(e,t){console.log(e);var a=[];return t.forEach((function(t){var s=e.filter((function(e){return e.media_key===t}))[0],c={mediaKey:t,height:s.height,width:s.width,type:s.type,previewImageURL:"photo"===s.type?s.url:s.preview_image_url};a.push(c)})),a},y=a(94);a(83);var S=function(e){var t,a,c,i,n=Object(s.useContext)(m);return Object(x.jsxs)("div",{className:"tweet-row",children:[Object(x.jsx)("div",{className:"tweet-avatar-col",children:Object(x.jsx)("img",{className:"user-image",src:e.tweet.author.profileImageUrl,alt:"Profile pic"})}),Object(x.jsxs)("div",{className:"tweet-content-container",children:[Object(x.jsxs)("div",{children:[Object(x.jsxs)("span",{className:"author-name",children:[e.tweet.author.name," "]}),Object(x.jsxs)("span",{className:"author-id",children:["@",e.tweet.author.userName," ."]}),Object(x.jsxs)("span",{className:"author-id",children:[e.tweet.createdAt," "]}),(c=e.tweet.id,i=n.favorites,i.filter((function(e){return e.id===c})).length?Object(x.jsx)("i",{className:"bi bi-star-fill tweet-fav-icon",title:"Click to remove from favorites",onClick:function(){return n.removeFavorites(e.tweet.id)}}):Object(x.jsx)("i",{className:"bi bi-star tweet-fav-icon",title:"Click to add to favorites",onClick:function(){return n.addFavorites(e.tweet)}}))]}),Object(x.jsx)("div",{className:"tweet-text",dangerouslySetInnerHTML:{__html:e.tweet.text}}),Object(x.jsx)("div",{className:"tweet-attachments",children:e.tweet.attachments&&(null===(t=e.tweet.attachments)||void 0===t?void 0:t.length)>0?Object(x.jsx)(y.a,{children:null===(a=e.tweet.attachments)||void 0===a?void 0:a.map((function(e){return Object(x.jsx)(y.a.Item,{children:Object(x.jsx)("img",{className:"tweet-attachment-img",src:e.previewImageURL,width:e.width,alt:"Tweet Attachment"})},e.mediaKey)}))}):Object(x.jsx)(x.Fragment,{})})]})]})};a(84);var F=function(e){return console.log(e),Object(x.jsx)(l.a,{className:"tweets-container",children:e.tweets.map((function(e){return Object(x.jsx)(S,{tweet:e},e.id)}))})};var k=function(){var e,t=Object(s.useState)([]),a=Object(o.a)(t,2),c=a[0],i=a[1],n=Object(s.useState)("init"),r=Object(o.a)(n,2),l=r[0],j=r[1],d=function(){e.trim()&&(j("searching"),w.a.get("https://damp-wave-61642.herokuapp.com/?search=".concat(e),{headers:{Authorization:"Bearer AAAAAAAAAAAAAAAAAAAAAAkXSgEAAAAAQ%2B7CHvY%2FvZ7WmR2oPhespzsHi6s%3DRJhMfHjvRxa7t9BGm5Nzd0hmSExs8zPUXnxPQ4zHWNrHyJcaF3"}}).then((function(e){j("success"),i(function(e){var t,a,s=[],c=(null===(t=e.includes)||void 0===t?void 0:t.users)?e.includes.users:[],i=(null===(a=e.includes)||void 0===a?void 0:a.media)?e.includes.media:[];return e.data.forEach((function(e){var t={createdAt:e.created_at,id:e.id,attachments:e.attachments?A(i,e.attachments.media_keys):[],text:0===e.text.search("RT")?e.text.split(": ")[1]:e.text,author:N(c,e.author_id)};s.push(t)})),s}(e.data))})).catch((function(e){j("error")})))};return Object(x.jsxs)("div",{className:"explore",children:[Object(x.jsxs)(f.a,{className:"mb-3",children:[Object(x.jsx)(p.a,{placeholder:"Search Tweets","aria-label":"Search Tweets","aria-describedby":"basic-addon2",onChange:function(t){e=t.target.value},onKeyPress:function(e){13===e.charCode&&d()}}),Object(x.jsx)(v.a,{onClick:d,variant:"outline-secondary",id:"button-addon2",children:Object(x.jsx)("i",{className:"bi bi-search"})})]}),Object(x.jsxs)("div",{className:"search-results",children:["success"===l&&(c.length?Object(x.jsx)(F,{tweets:c}):Object(x.jsx)("div",{className:"search-message",children:"No Results Found"})),"error"===l&&Object(x.jsx)("div",{className:"search-message",children:"Error Fetching tweets"}),"init"===l&&Object(x.jsx)("div",{className:"search-message",children:"Please Start searching"}),"searching"===l&&Object(x.jsx)("img",{alt:"spinner",className:"spinner-image",src:"https://upload.wikimedia.org/wikipedia/commons/b/b9/Youtube_loading_symbol_1_(wobbly).gif"})]})]})};a(85);var C=function(e){return Object(x.jsxs)("div",{className:"favorite-tweets",children:[Object(x.jsx)("h2",{className:"fav-title",children:"Favorites"}),e.tweets.length>0?Object(x.jsx)(F,{tweets:e.tweets}):Object(x.jsx)("div",{className:"search-message",children:"No Favorites"})]})};var I=function(){var e=Object(s.useState)(JSON.parse(localStorage.getItem("favorites")||"[]")),t=Object(o.a)(e,2),a=t[0],c=t[1],i=function(e){return a.filter((function(t){return t.id===e})).length};return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(m.Provider,{value:{favorites:a,addFavorites:function(e){if(!i(e.id)){var t=Object(r.a)(a);t.push(e),c(t),localStorage.setItem("favorites",JSON.stringify(t))}},removeFavorites:function(e){var t=a.filter((function(t){return t.id!==e}));c(t),localStorage.setItem("favorites",JSON.stringify(t))},isFavorite:i},children:Object(x.jsx)(l.a,{className:"app-container",children:Object(x.jsx)(j.a,{children:Object(x.jsxs)(u.a,{children:[Object(x.jsx)(d.a,{xs:!0,sm:"2",md:"3",lg:"3",xl:"2",className:"nav-col",children:Object(x.jsx)(O,{})}),Object(x.jsx)(d.a,{className:"app-route-col",children:Object(x.jsxs)(h.d,{children:[Object(x.jsx)(h.b,{path:"/explore",children:Object(x.jsx)(k,{})}),Object(x.jsx)(h.b,{path:"/favorites",children:Object(x.jsx)(C,{tweets:a})}),Object(x.jsx)(h.b,{path:"/",children:Object(x.jsx)(h.a,{to:"/explore"})})]})})]})})})})})},_=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,98)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,i=t.getLCP,n=t.getTTFB;a(e),s(e),c(e),i(e),n(e)}))};a(86),a(87);n.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(I,{})}),document.getElementById("root")),_()}},[[88,1,2]]]);
//# sourceMappingURL=main.43fc9cec.chunk.js.map