(this.webpackJsonptwitter=this.webpackJsonptwitter||[]).push([[0],{53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},64:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a.n(c),i=a(16),n=a.n(i),r=(a(53),a(48)),o=a(12),l=(a(54),a(91)),j=a(92),d=a(93),u=a(30),h=a(7),m=Object(c.createContext)({}),b=a(95),v=a(90),f=(a(55),a(1));var x=function(){var e=Object(c.useState)(0),t=Object(o.a)(e,2),a=t[0],s=t[1],i=Object(h.g)(),n=function(e){s(e),0===e?i.push("/explore"):1===e&&i.push("/favorites")};return Object(f.jsxs)(b.a,{className:"flex-column twitter-nav-items",children:[Object(f.jsx)(b.a.Item,{children:Object(f.jsx)("i",{className:"bi bi-twitter twitter-icon"})}),Object(f.jsx)(b.a.Item,{children:Object(f.jsxs)(v.a,{onClick:function(){return n(0)},variant:"outline-primary",className:"nav-button ".concat(0===a?"active":""),children:[Object(f.jsx)("i",{className:"bi bi-search"}),Object(f.jsx)("span",{children:"Explore"})]})}),Object(f.jsx)(b.a.Item,{children:Object(f.jsxs)(v.a,{onClick:function(){return n(1)},variant:"outline-primary",className:"nav-button ".concat(1===a?"active":""),children:[Object(f.jsx)("i",{className:"bi bi-star-fill"}),Object(f.jsx)("span",{children:"Favorites"})]})})]})},O=a(96),g=a(97),p=(a(64),a(44)),w=a.n(p),N=function(e){var t=new Date,a=new Date(e),c=(t.getTime()-a.getTime())/6e4,s=c/60;if(s<24)return c>60?Math.floor(s)+"h":Math.floor(c)+"min";if(a.getFullYear()===t.getFullYear()){var i=a.toUTCString().split(" ");return"".concat(i[1]," ").concat(i[2])}return a.toISOString().split("T")[0]},A=function(e,t){var a=e.filter((function(e){return e.id===t}))[0];return{id:t,name:a.name,userName:a.username,profileImageUrl:a.profile_image_url}},S=function(e,t){console.log(e);var a=[];return t.forEach((function(t){var c=e.filter((function(e){return e.media_key===t}))[0],s={mediaKey:t,height:c.height,width:c.width,type:c.type,previewImageURL:"photo"===c.type?c.url:c.preview_image_url};a.push(s)})),a},y=a(94);a(83);var F=function(e){var t,a,s,i,n=Object(c.useContext)(m);return Object(f.jsxs)("div",{className:"tweet-row",children:[Object(f.jsx)("div",{className:"tweet-avatar-col",children:Object(f.jsx)("img",{className:"user-image",src:e.tweet.author.profileImageUrl,alt:"Profile pic"})}),Object(f.jsxs)("div",{className:"tweet-content-container",children:[Object(f.jsxs)("div",{children:[Object(f.jsxs)("span",{className:"author-name",children:[e.tweet.author.name," "]}),Object(f.jsxs)("span",{className:"author-id",children:["@",e.tweet.author.userName," ."]}),Object(f.jsxs)("span",{className:"author-id",children:[N(e.tweet.createdAt)," "]}),(s=e.tweet.id,i=n.favorites,i.filter((function(e){return e.id===s})).length?Object(f.jsx)("i",{className:"bi bi-star-fill tweet-fav-icon",title:"Click to remove from favorites",onClick:function(){return n.removeFavorites(e.tweet.id)}}):Object(f.jsx)("i",{className:"bi bi-star tweet-fav-icon",title:"Click to add to favorites",onClick:function(){return n.addFavorites(e.tweet)}}))]}),Object(f.jsx)("div",{className:"tweet-text",dangerouslySetInnerHTML:{__html:e.tweet.text}}),Object(f.jsx)("div",{className:"tweet-attachments",children:e.tweet.attachments&&(null===(t=e.tweet.attachments)||void 0===t?void 0:t.length)>0?Object(f.jsx)(y.a,{children:null===(a=e.tweet.attachments)||void 0===a?void 0:a.map((function(e){return Object(f.jsx)(y.a.Item,{children:Object(f.jsx)("img",{className:"tweet-attachment-img",src:e.previewImageURL,width:e.width,alt:"Tweet Attachment"})},e.mediaKey)}))}):Object(f.jsx)(f.Fragment,{})})]})]})};a(84);var C=function(e){return console.log(e),Object(f.jsx)(l.a,{className:"tweets-container",children:e.tweets.map((function(e){return Object(f.jsx)(F,{tweet:e},e.id)}))})};var k=function(){var e,t=Object(c.useState)([]),a=Object(o.a)(t,2),s=a[0],i=a[1],n=Object(c.useState)("init"),r=Object(o.a)(n,2),l=r[0],j=r[1],d=function(){e&&e.trim()&&"searching"!==l&&(j("searching"),w.a.get("https://damp-wave-61642.herokuapp.com/?search=".concat(e),{headers:{Authorization:"Bearer AAAAAAAAAAAAAAAAAAAAAAkXSgEAAAAAQ%2B7CHvY%2FvZ7WmR2oPhespzsHi6s%3DRJhMfHjvRxa7t9BGm5Nzd0hmSExs8zPUXnxPQ4zHWNrHyJcaF3"}}).then((function(e){j("success"),i(function(e){var t,a,c=[],s=(null===(t=e.includes)||void 0===t?void 0:t.users)?e.includes.users:[],i=(null===(a=e.includes)||void 0===a?void 0:a.media)?e.includes.media:[];return e.data.forEach((function(e){var t={createdAt:e.created_at,id:e.id,attachments:e.attachments?S(i,e.attachments.media_keys):[],text:0===e.text.search("RT")?e.text.split(": ")[1]:e.text,author:A(s,e.author_id)};c.push(t)})),c}(e.data))})).catch((function(e){j("error")})))};return Object(f.jsxs)("div",{className:"explore",children:[Object(f.jsxs)(O.a,{className:"mb-3",children:[Object(f.jsx)(g.a,{placeholder:"Search Tweets","aria-label":"Search Tweets","aria-describedby":"basic-addon2",onChange:function(t){e=t.target.value},onKeyPress:function(e){13===e.charCode&&d()}}),Object(f.jsx)(v.a,{onClick:d,variant:"outline-secondary",id:"button-addon2",children:Object(f.jsx)("i",{className:"bi bi-search"})})]}),Object(f.jsxs)("div",{className:"search-results",children:["success"===l&&(s.length?Object(f.jsx)(C,{tweets:s}):Object(f.jsx)("div",{className:"search-message",children:"No Results Found"})),"error"===l&&Object(f.jsx)("div",{className:"search-message",children:"Error Fetching tweets"}),"init"===l&&Object(f.jsx)("div",{className:"search-message",children:"Please Start searching"}),"searching"===l&&Object(f.jsx)("img",{alt:"spinner",className:"spinner-image",src:"https://upload.wikimedia.org/wikipedia/commons/b/b9/Youtube_loading_symbol_1_(wobbly).gif"})]})]})};a(85);var I=function(e){return Object(f.jsxs)("div",{className:"favorite-tweets",children:[Object(f.jsx)("h2",{className:"fav-title",children:"Favorites"}),e.tweets.length>0?Object(f.jsx)(C,{tweets:e.tweets}):Object(f.jsx)("div",{className:"search-message",children:"No Favorites"})]})};var _=function(){var e=Object(c.useState)(JSON.parse(localStorage.getItem("favorites")||"[]")),t=Object(o.a)(e,2),a=t[0],s=t[1],i=function(e){return a.filter((function(t){return t.id===e})).length};return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(m.Provider,{value:{favorites:a,addFavorites:function(e){if(!i(e.id)){var t=Object(r.a)(a);t.push(e),s(t),localStorage.setItem("favorites",JSON.stringify(t))}},removeFavorites:function(e){var t=a.filter((function(t){return t.id!==e}));s(t),localStorage.setItem("favorites",JSON.stringify(t))},isFavorite:i},children:Object(f.jsx)(l.a,{className:"app-container",children:Object(f.jsx)(j.a,{children:Object(f.jsxs)(u.a,{children:[Object(f.jsx)(d.a,{xs:!0,sm:"2",md:"3",lg:"3",xl:"2",className:"nav-col",children:Object(f.jsx)(x,{})}),Object(f.jsx)(d.a,{className:"app-route-col",children:Object(f.jsxs)(h.d,{children:[Object(f.jsx)(h.b,{path:"/explore",children:Object(f.jsx)(k,{})}),Object(f.jsx)(h.b,{path:"/favorites",children:Object(f.jsx)(I,{tweets:a})}),Object(f.jsx)(h.b,{path:"/",children:Object(f.jsx)(h.a,{to:"/explore"})})]})})]})})})})})},T=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,98)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,i=t.getLCP,n=t.getTTFB;a(e),c(e),s(e),i(e),n(e)}))};a(86),a(87);n.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(_,{})}),document.getElementById("root")),T()}},[[88,1,2]]]);
//# sourceMappingURL=main.6794f25f.chunk.js.map